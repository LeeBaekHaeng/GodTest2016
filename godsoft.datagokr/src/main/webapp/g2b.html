<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<script src="./js/egovframework/com/cmm/jquery-1.4.2.min.js"></script>

	<script>
		(function() {

// 			var url = './proxy.jsp?http://apis.data.go.kr/1230000/CntrctInfoService/getCntrctInfoListServc?';
// 			var url = './1230000/CntrctInfoService/getCntrctInfoListServcPPSSrch.do';
			var url = './proxy.jsp?http://apis.data.go.kr/1230000/CntrctInfoService/getCntrctInfoListServcPPSSrch?serviceKey=UMEa5VvLLLGHOOzP2cVmtSF15EtCq4Ke7KBJR8OS63PB2EJgAZGnVZdy7saCYsrOvXzJKw4raynLW7AT0Ezsyg%3D%3D&numOfRows=10&pageSize=10&pageNo=1&startPage=1&inqryDiv=1&inqryBgnDate=20160831&inqryEndDate=20160831&insttDivCd=1&insttClsfcCd=01&insttCd=1230000&insttNm=%EC%A1%B0%EB%8B%AC%EC%B2%AD&cnsttyNm=%ED%86%A0%EB%AA%A9%EA%B3%B5%EC%82%AC%EC%97%85&cntrctNm=2016%20%EC%84%9C%EC%9A%B8%EB%B0%98%EC%9B%90%EC%B4%88%20%EA%B5%90%EC%82%AC%EB%8F%99%20%EC%99%B8%EB%B6%80%20%EB%8F%84%EC%9E%A5%20%EA%B3%B5%EC%82%AC&cntrctMthdCd=1&cntrctRefNo=00166033106&cntrctDivCd=1&dcsnCntrctNo=00166033106&reqNo=2102318588&ntceNo=20151109261';
			url = './proxy.jsp?'+encodeURIComponent('http://apis.data.go.kr/1230000/CntrctInfoService/getCntrctInfoListServcPPSSrch?serviceKey=UMEa5VvLLLGHOOzP2cVmtSF15EtCq4Ke7KBJR8OS63PB2EJgAZGnVZdy7saCYsrOvXzJKw4raynLW7AT0Ezsyg%3D%3D&numOfRows=10&pageSize=10&pageNo=1&startPage=1&inqryDiv=1&inqryBgnDate=20160831&inqryEndDate=20160831&insttDivCd=1&insttClsfcCd=01&insttCd=1230000&insttNm=%EC%A1%B0%EB%8B%AC%EC%B2%AD&cnsttyNm=%ED%86%A0%EB%AA%A9%EA%B3%B5%EC%82%AC%EC%97%85&cntrctNm=2016%20%EC%84%9C%EC%9A%B8%EB%B0%98%EC%9B%90%EC%B4%88%20%EA%B5%90%EC%82%AC%EB%8F%99%20%EC%99%B8%EB%B6%80%20%EB%8F%84%EC%9E%A5%20%EA%B3%B5%EC%82%AC&cntrctMthdCd=1&cntrctRefNo=00166033106&cntrctDivCd=1&dcsnCntrctNo=00166033106&reqNo=2102318588&ntceNo=20151109261');
			url = encodeURIComponent('./proxy.jsp?http://apis.data.go.kr/1230000/CntrctInfoService/getCntrctInfoListServcPPSSrch?serviceKey=UMEa5VvLLLGHOOzP2cVmtSF15EtCq4Ke7KBJR8OS63PB2EJgAZGnVZdy7saCYsrOvXzJKw4raynLW7AT0Ezsyg%3D%3D&numOfRows=10&pageSize=10&pageNo=1&startPage=1&inqryDiv=1&inqryBgnDate=20160831&inqryEndDate=20160831&insttDivCd=1&insttClsfcCd=01&insttCd=1230000&insttNm=%EC%A1%B0%EB%8B%AC%EC%B2%AD&cnsttyNm=%ED%86%A0%EB%AA%A9%EA%B3%B5%EC%82%AC%EC%97%85&cntrctNm=2016%20%EC%84%9C%EC%9A%B8%EB%B0%98%EC%9B%90%EC%B4%88%20%EA%B5%90%EC%82%AC%EB%8F%99%20%EC%99%B8%EB%B6%80%20%EB%8F%84%EC%9E%A5%20%EA%B3%B5%EC%82%AC&cntrctMthdCd=1&cntrctRefNo=00166033106&cntrctDivCd=1&dcsnCntrctNo=00166033106&reqNo=2102318588&ntceNo=20151109261');
			url = ('./proxy.jsp?http://apis.data.go.kr/1230000/CntrctInfoService/getCntrctInfoListServcPPSSrch?ServiceKey=UMEa5VvLLLGHOOzP2cVmtSF15EtCq4Ke7KBJR8OS63PB2EJgAZGnVZdy7saCYsrOvXzJKw4raynLW7AT0Ezsyg%3D%3D&numOfRows=10&pageSize=10&pageNo=1&startPage=1&inqryDiv=1&inqryBgnDate=20160831&inqryEndDate=20160831&insttDivCd=1&insttClsfcCd=01&insttCd=1230000&insttNm=%EC%A1%B0%EB%8B%AC%EC%B2%AD&cnsttyNm=%ED%86%A0%EB%AA%A9%EA%B3%B5%EC%82%AC%EC%97%85&cntrctNm=2016%20%EC%84%9C%EC%9A%B8%EB%B0%98%EC%9B%90%EC%B4%88%20%EA%B5%90%EC%82%AC%EB%8F%99%20%EC%99%B8%EB%B6%80%20%EB%8F%84%EC%9E%A5%20%EA%B3%B5%EC%82%AC&cntrctMthdCd=1&cntrctRefNo=00166033106&cntrctDivCd=1&dcsnCntrctNo=00166033106&reqNo=2102318588&ntceNo=20151109261');
			url = ('http://apis.data.go.kr/1230000/CntrctInfoService/getCntrctInfoListServcPPSSrch?ServiceKey=UMEa5VvLLLGHOOzP2cVmtSF15EtCq4Ke7KBJR8OS63PB2EJgAZGnVZdy7saCYsrOvXzJKw4raynLW7AT0Ezsyg%3D%3D&numOfRows=10&pageSize=10&pageNo=1&startPage=1&inqryDiv=1&inqryBgnDate=20160831&inqryEndDate=20160831&insttDivCd=1&insttClsfcCd=01&insttCd=1230000&insttNm=%EC%A1%B0%EB%8B%AC%EC%B2%AD&cnsttyNm=%ED%86%A0%EB%AA%A9%EA%B3%B5%EC%82%AC%EC%97%85&cntrctNm=2016%20%EC%84%9C%EC%9A%B8%EB%B0%98%EC%9B%90%EC%B4%88%20%EA%B5%90%EC%82%AC%EB%8F%99%20%EC%99%B8%EB%B6%80%20%EB%8F%84%EC%9E%A5%20%EA%B3%B5%EC%82%AC&cntrctMthdCd=1&cntrctRefNo=00166033106&cntrctDivCd=1&dcsnCntrctNo=00166033106&reqNo=2102318588&ntceNo=20151109261');
			url = 'http://apis.data.go.kr/1230000/CntrctInfoService/getCntrctInfoListServcPPSSrch';
// 			url = './1230000/CntrctInfoService/getCntrctInfoListServcPPSSrch.do';
			
			var data = {
// 				numOfRows : 10,//한 페이지 결과 수
// 				pageNo : 1, // 페이지 번호	
// 				serviceKey : 'UMEa5VvLLLGHOOzP2cVmtSF15EtCq4Ke7KBJR8OS63PB2EJgAZGnVZdy7saCYsrOvXzJKw4raynLW7AT0Ezsyg%3D%3D', // 서비스키	
// 				inqryDiv : '1', // 조회구분 1:등록일시, 2:통합계약번호
// 				inqryBgnDt : '201711010000', // 조회시작일시
// 				inqryEndDt : '201711302359', // 조회종료일시
// 			// 				untyCntrctNo : '2016070113289', // 통합계약번호
// 					ServiceKey:'UMEa5VvLLLGHOOzP2cVmtSF15EtCq4Ke7KBJR8OS63PB2EJgAZGnVZdy7saCYsrOvXzJKw4raynLW7AT0Ezsyg%3D%3D',
					ServiceKey:decodeURIComponent('UMEa5VvLLLGHOOzP2cVmtSF15EtCq4Ke7KBJR8OS63PB2EJgAZGnVZdy7saCYsrOvXzJKw4raynLW7AT0Ezsyg%3D%3D'),
					numOfRows:'10',
					pageSize:'10',
					pageNo:'1',
					startPage:'1',
					inqryDiv:'1',
					inqryBgnDate:'20160831',
					inqryEndDate:'20160831',
// 					insttDivCd':'1',
// 					insttClsfcCd':'01',
// 					insttCd':'1230000',
// 					insttNm':'%EC%A1%B0%EB%8B%AC%EC%B2%AD',
// 					cnsttyNm':'%ED%86%A0%EB%AA%A9%EA%B3%B5%EC%82%AC%EC%97%85',
// 					cntrctNm':'2016%20%EC%84%9C%EC%9A%B8%EB%B0%98%EC%9B%90%EC%B4%88%20%EA%B5%90%EC%82%AC%EB%8F%99%20%EC%99%B8%EB%B6%80%20%EB%8F%84%EC%9E%A5%20%EA%B3%B5%EC%82%AC',
					cntrctNm:'시스템',
// 					cntrctMthdCd':'1',
// 					cntrctRefNo':'00166033106',
// 					cntrctDivCd':'1',
// 					dcsnCntrctNo':'00166033106',
// 					reqNo':'2102318588',
// 					ntceNo':'20151109261
			};

			function success(data, textStatus, jqXHR) {
				console.log('data', data);
				console.log('textStatus', textStatus);
				console.log('jqXHR', jqXHR);

				console.log('OpenAPI_ServiceResponse', $(data).find(
						'OpenAPI_ServiceResponse').text());
				console.log('OpenAPI_ServiceResponse', $(data).find(
						'OpenAPI_ServiceResponse cmmMsgHeader returnCode')
						.text());
				console.log('OpenAPI_ServiceResponse', $(data).find(
						'OpenAPI_ServiceResponse cmmMsgHeader errMsg').text());

				var v = '';

				$(data).find('OpenAPI_ServiceResponse cmmMsgHeader ').each(
						function() {
							console.log('this', this);

							v += '<tr>';
							v += '<td>' + $(this).find('cmmMsgHeader').text()
									+ '</td>';
							v += '</tr>';
						});

				$('#table1 tbody').html(v);
			}

			var dataType = 'xml';
// 			dataType = 'html';
// 			dataType = 'json';

// 			$.post(url, data, success, dataType);
			$.get(url, data, success, dataType);

		}());
	</script>

</body>
</html>